(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{365:function(t,e,n){"use strict";var r=n(6),l=n(34),o=n(35),c=n(276),d=n(69),f=n(11),h=n(55).f,v=n(56).f,y=n(13).f,m=n(367).trim,_="Number",w=r.Number,x=w,k=w.prototype,C=o(n(93)(k))==_,I="trim"in String.prototype,F=function(t){var e=d(t,!1);if("string"==typeof e&&e.length>2){var n,r,l,o=(e=I?e.trim():m(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,l=49;break;case 79:case 111:r=8,l=55;break;default:return+e}for(var code,c=e.slice(2),i=0,f=c.length;i<f;i++)if((code=c.charCodeAt(i))<48||code>l)return NaN;return parseInt(c,r)}}return+e};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(C?f((function(){k.valueOf.call(n)})):o(n)!=_)?c(new x(F(e)),n,w):F(e)};for(var S,N=n(9)?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;N.length>T;T++)l(x,S=N[T])&&!l(w,S)&&y(w,S,v(x,S));w.prototype=k,k.constructor=w,n(17)(r,_,w)}},367:function(t,e,n){var r=n(5),l=n(41),o=n(11),c=n(368),d="["+c+"]",f=RegExp("^"+d+d+"*"),h=RegExp(d+d+"*$"),v=function(t,e,n){var l={},d=o((function(){return!!c[t]()||"​"!="​"[t]()})),f=l[t]=d?e(y):c[t];n&&(l[n]=f),r(r.P+r.F*d,"String",l)},y=v.trim=function(t,e){return t=String(l(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(h,"")),t};t.exports=v},368:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},390:function(t,e,n){var content=n(434);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("2dfebb55",content,!0,{sourceMap:!1})},433:function(t,e,n){"use strict";n(390)},434:function(t,e,n){var r=n(24)(!1);r.push([t.i,".title[data-v-b7892808]{font-weight:600;padding-top:10px;margin-bottom:10px;text-align:left!important}.file-style .v-btn--fab[data-v-b7892808]{width:35px;height:35px;top:-6px;right:0;position:absolute;z-index:1}.link-style[data-v-b7892808]{text-align:left}.link-style a[data-v-b7892808]{color:#1e88e5!important}.link-style a[data-v-b7892808]:hover{color:#1976d2!important;text-decoration:underline}.link-style .v-btn--fab.v-size--small[data-v-b7892808]{margin-left:10px;width:25px;height:25px;position:absolute;z-index:1}.cursorPointer[data-v-b7892808]{cursor:pointer}.item-background[data-v-b7892808]{display:inline-block;background:#000}.item-background[data-v-b7892808],.item-cover[data-v-b7892808]{position:absolute;top:0;bottom:0;left:10px;right:10px}.item-cover[data-v-b7892808]{font-size:30px;background:rgba(0,0,0,.6);color:#fff;text-align:center}.video-preview[data-v-b7892808]{-o-object-fit:cover;object-fit:cover}img.main[data-v-b7892808]{border-radius:4px;height:100%;width:100%;-o-object-fit:scale-down;object-fit:scale-down}.images-list[data-v-b7892808]{margin-top:6px}img.preview[data-v-b7892808],video.preview[data-v-b7892808]{border-radius:4px;height:65px;width:100%;-o-object-fit:cover;object-fit:cover}img.active[data-v-b7892808]{filter:none;-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);cursor:pointer;transition:all .3s ease}img.inactive[data-v-b7892808]{filter:none;-webkit-filter:grayscale(0);-moz-filter:grayscale(0);-ms-filter:grayscale(0);-o-filter:grayscale(0)}",""]),t.exports=r},452:function(t,e,n){"use strict";n.r(e);n(365),n(19),n(67),n(68),n(277);var r=n(363),l=n.n(r),o={props:{countImageList:{type:Number,default:function(){return 4}},showOnlyCarousel:{type:Boolean,default:!1},notShowCountImage:{type:Boolean,default:!0},separateImage:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"130px"}},columnSpan:{type:Number,default:function(){return 4}},columnOffset:{type:Number,default:function(){return 0}}},data:function(){return{visible:!1,currentKey:0,currentType:"",files:[],imageList:[]}},computed:{filterImages:function(){var t=this;return l.a.filter(l.a.compact(this.files),(function(e){return"delete"!==e.action&&"image"===t.fileType(e.content_type||e.type)}))},filterVideoFiles:function(){var t=this;return l.a.filter(l.a.compact(this.files),(function(e){return"delete"!==e.action&&"video"===t.fileType(e.content_type||e.type)}))},filterDocFiles:function(){var t=this;return l.a.filter(l.a.compact(this.files),(function(e){return"delete"!==e.action&&!l.a.includes(["video","image"],t.fileType(e.content_type||e.type))}))},filterDialogFiles:function(){return"image"===this.currentType?this.filterImages:"video"===this.currentType?this.filterVideoFiles:this.files},calculatedCarouselHeight:function(){return this.height?Number(this.height):"auto"},calculatedPreviewHeight:function(){var t=this.calculatedCarouselHeight;return"auto"===t?"65px":"".concat(t/6,"px")}},watch:{images:function(t,e){var n=this;t&&(this.separateImage?l.a.forEach(t,(function(t,e){t.index=e})):this.imageList=l.a.filter(t,(function(t,e){return e<=n.countImageList-1})),this.files=t)}},mounted:function(){var t=this,e=this.images;this.separateImage?l.a.forEach(e,(function(t,e){t.index=e})):this.imageList=l.a.filter(e,(function(e,n){return n<=t.countImageList-1})),this.files=e},methods:{handleIndexChanged:function(t){this.currentKey=t},fileType:function(t){return t?(t=t.split("/"))[0]:null},galleryAction:function(t,e){var n=this;l.a.isNil(t)||(this.currentKey=t),l.a.isNil(e)||(this.currentType=e),this.visible=!0,setTimeout((function(){n.$refs.carouselDom.handleResize()}),1)}}},c=(n(433),n(27)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.separateImage?n("div",{staticClass:"pa-0"},[t.filterImages&&t.filterImages.length>0?n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("info.incident.label.images")+":")+"\n    ")]):t._e(),t._v(" "),n("Row",{attrs:{gutter:20}},t._l(t.filterImages,(function(e,r){return n("Col",{key:"image_"+r,staticClass:"d-flex child-flex pt-0",staticStyle:{"{ padding":"'10px', position: 'relative' }"},attrs:{span:t.columnSpan}},[n("img",{style:{width:t.width,height:t.height,cursor:"zoom-in",objectFit:"cover",objectPosition:"center"},attrs:{src:e.url},on:{click:function(e){return t.galleryAction(r,"image")}}})])})),1),t._v(" "),t.filterVideoFiles&&t.filterVideoFiles.length>0?n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("info.incident.label.videos")+":")+"\n    ")]):t._e(),t._v(" "),n("Row",{attrs:{gutter:20}},t._l(t.filterVideoFiles,(function(e,r){return n("Col",{key:"video_"+r,staticClass:"d-flex child-flex pt-0",staticStyle:{"{ padding":"'10px', position: 'relative' }"},attrs:{span:t.columnSpan}},["video"==t.fileType(e.content_type)?n("video",{staticClass:"video-preview",style:{width:t.width,height:t.height,cursor:"zoom-in",position:"relative",overflow:"hidden",flex:"1 0 auto",width:"100%",display:"flex"},attrs:{kind:"video",src:e.attachment_link,pause:""},on:{click:function(e){return t.galleryAction(r,"video")}}}):t._e()])})),1),t._v(" "),t.filterDocFiles&&t.filterDocFiles.length>0?n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("form.gallery.label.files"))+"\n    ")]):t._e(),t._v(" "),n("div",{attrs:{gutter:20}},t._l(t.filterDocFiles,(function(e){return n("div",{key:e.index,staticClass:"file-listing",style:{position:"relative"}},[n("Row",{staticClass:"link-style"},[n("Col",{attrs:{span:t.columnSpan}},[n("a",{attrs:{src:e.attachment_link||e.src}},[t._v(t._s(e.name||e.filename))])])],1)],1)})),0)],1):t.showOnlyCarousel?n("div",[n("Carousel",{ref:"carouselDom",attrs:{"radius-dot":!0,height:200,loop:"",dots:"outside",arrow:"always"},model:{value:t.currentKey,callback:function(e){t.currentKey=e},expression:"currentKey"}},t._l(t.filterDialogFiles,(function(e,r){return n("CarouselItem",{key:r},["image"==t.fileType(e.content_type)?n("img",{staticClass:"main",attrs:{src:e.url,height:"200px"}}):t._e(),t._v(" "),"video"==t.fileType(e.content_type)?n("div",{staticClass:"text-center"},[n("video",{style:{width:t.width,height:"500px",position:"relative",overflow:"hidden",objectFit:"scale-down",width:"100%"},attrs:{kind:"video",controls:!0,src:e.attachment_link,autoplay:"",play:"",pause:""}})]):t._e()])})),1),t._v(" "),t.filterDialogFiles.length>0?n("Row",{staticClass:"images-list",attrs:{gutter:5,type:"flex"}},t._l(t.filterDialogFiles,(function(e,r){return n("Col",{key:r,attrs:{span:4}},["image"==t.fileType(e.content_type)?n("img",{class:{preview:!0,active:t.currentKey!==r,inactive:t.currentKey===r},style:{height:t.calculatedPreviewHeight},attrs:{src:e.url,alt:""},on:{click:function(e){return t.handleIndexChanged(r)}}}):t._e(),t._v(" "),"video"==t.fileType(e.content_type)?n("div",{staticClass:"text-center",on:{click:function(e){return t.handleIndexChanged(r)}}},[n("video",{class:{preview:!0,active:t.currentKey!==r,inactive:t.currentKey===r},style:{height:t.calculatedPreviewHeight},attrs:{kind:"video",controls:!0,src:e.attachment_link,pause:""}})]):t._e()])})),1):t._e()],1):n("Row",{attrs:{gutter:24}},t._l(t.imageList,(function(e,r){return n("Col",{key:"item_"+r,staticClass:"pt-0",staticStyle:{"{ padding":"'10px', position: 'relative' }"},attrs:{span:t.columnSpan,offset:t.columnOffset}},["video"==t.fileType(e.content_type)?n("div",{staticStyle:{display:"'inline-block"}},[n("div",{staticClass:"item-background"}),t._v(" "),n("video",{style:{width:t.width,height:t.height,cursor:"zoom-in",position:"relative",overflow:"hidden",flex:"1 0 auto",width:"100%",display:"flex"},attrs:{kind:"video",src:e.attachment_link,pause:""},on:{click:function(e){return t.galleryAction(r)}}}),t._v(" "),r!==t.countImageList-1||t.notShowCountImage?t._e():n("h1",{staticClass:"item-cover",staticStyle:{height:"65px",cursor:"zoom-in"},on:{click:function(e){return t.galleryAction(r)}}},[t.files.length-t.countImageList!=0?n("span",{staticStyle:{"z-index":"999"}},[t._v("\n            "+t._s(t.files.length-t.countImageList)+"+\n          ")]):n("span")])]):n("div",{staticStyle:{display:"inline-block"}},[e.url?n("img",{style:{width:t.width,height:t.height,cursor:"zoom-in",objectFit:"cover"},attrs:{src:e.url},on:{click:function(e){return t.galleryAction(r)}}}):t._e(),t._v(" "),r!==t.countImageList-1||t.notShowCountImage?t._e():n("h6",{staticClass:"item-cover",staticStyle:{height:"65px",cursor:"zoom-in"},on:{click:function(e){return t.galleryAction(r)}}},[t.files.length-t.countImageList!=0?n("span",{staticStyle:{"vertical-align":"middle"}},[t._v("\n            "+t._s(t.files.length-t.countImageList)+"+\n          ")]):n("span")])])])})),1),t._v(" "),n("Modal",{attrs:{"max-width":"600px","footer-hide":""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("Carousel",{ref:"carouselDom",attrs:{"radius-dot":!0,height:300,loop:"",dots:"outside",arrow:"always"},model:{value:t.currentKey,callback:function(e){t.currentKey=e},expression:"currentKey"}},t._l(t.filterDialogFiles,(function(e,r){return n("CarouselItem",{key:r},["image"==t.fileType(e.content_type)?n("img",{staticClass:"main",attrs:{src:e.url,height:"500px"}}):t._e(),t._v(" "),"video"==t.fileType(e.content_type)?n("div",{staticClass:"text-center"},[n("video",{style:{width:t.width,height:"500px",position:"relative",overflow:"hidden",objectFit:"scale-down",width:"100%"},attrs:{kind:"video",controls:!0,src:e.attachment_link,autoplay:"",play:"",pause:""}})]):t._e()])})),1),t._v(" "),t.filterDialogFiles.length>0?n("Row",{staticClass:"images-list",attrs:{gutter:5,type:"flex"}},t._l(t.filterDialogFiles,(function(e,r){return n("Col",{key:r,attrs:{span:4}},["image"==t.fileType(e.content_type)?n("img",{class:{preview:!0,active:t.currentKey!==r,inactive:t.currentKey===r},style:{height:t.calculatedPreviewHeight},attrs:{src:e.url,alt:""},on:{click:function(e){return t.handleIndexChanged(r)}}}):t._e(),t._v(" "),"video"==t.fileType(e.content_type)?n("div",{staticClass:"text-center",on:{click:function(e){return t.handleIndexChanged(r)}}},[n("video",{class:{preview:!0,active:t.currentKey!==r,inactive:t.currentKey===r},style:{height:t.calculatedPreviewHeight},attrs:{kind:"video",controls:!0,src:e.attachment_link,pause:""}})]):t._e()])})),1):t._e()],1)],1)}),[],!1,null,"b7892808",null);e.default=component.exports}}]);