(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{362:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return O}));n(26),n(15),n(19),n(31),n(32);var r=n(8),o=n(3),c=(n(23),n(47)),d=n.n(c),l=n(366),f=n.n(l),m=n(94),_=n.n(m);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v="".concat("https://altitudeapp.altitude.co.th","/api/v1/user");function y(e,path){return f()(e,path)}function x(e,t){if(!e)return{"Content-Type":"application/json"};var n={"Content-Type":"application/json"};t&&(n={"Content-Type":"multipart/form-data"});var r=_.a.get("token");return r&&(n["auth-token"]="Bearer ".concat(r)),n}function w(e){return e.response&&401===e.response.status&&navigator.onLine&&(window.location.href="/no_permission?locale=".concat(window.$nuxt.$store.state.language)),e.response}function O(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(o.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=x(r.auth),c=j(j({},o),r.headers),e.prev=2,e.next=5,d()({method:t,url:n,headers:c,data:r.data,params:r.params});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",w(e.t0));case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[2,9,12,14]])})))).apply(this,arguments)}},364:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return j}));n(365),n(70),n(16),n(71),n(72),n(67),n(68),n(44),n(40),n(33),n(15),n(42),n(43);var r=n(363),o=n.n(r),c=n(0),d=n.n(c);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(e){return e?d()(e).format("DD/MM/YYYY"):"-"}function _(e){return e?d()(e).local().format("DD/MM/YYYY HH:mm:ss"):"-"}function h(e){return e?Number(e).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new FormData;return o.a.each(e,(function(c,d){var f=d;if(t&&(f="".concat(t,"[").concat(d,"]")),o.a.includes(n,d))o.a.isArray(c)?o.a.forEach(c,(function(e,t){e instanceof File?(r.append("".concat(f,"[]"),e),r.delete("".concat(f,"[][").concat(t,"][][src]")),r.delete("".concat(f,"[][").concat(t,"][][index]"))):(e.action||(e.action="edit"),o.a.forEach(e,(function(e,t){r.append("".concat(f,"[][").concat(t,"]"),e)})))})):c instanceof File?(r.append("".concat(f),c),r.delete("".concat(f,"[").concat(d,"][][src]")),r.delete("".concat(f,"[").concat(d,"][][index]"))):r.append("".concat(f,"[").concat(d,"]"),c);else if(o.a.isArray(e[d])&&!o.a.isEmpty(e[d]))o.a.each(c,(function(e,n){if(f="".concat(d,"[]"),t&&(f="".concat(t,"[").concat(d,"][]")),o.a.isObject(c[n])&&!o.a.isEmpty(c[n])){var m,_=l(j(e,f).entries());try{for(_.s();!(m=_.n()).done;){var h=m.value;r.append(h[0],h[1])}}catch(e){_.e(e)}finally{_.f()}}else r.append("".concat(f),e)}));else if(o.a.isObject(e[d])){var m,_=l(j(c,f).entries());try{for(_.s();!(m=_.n()).done;){var h=m.value;r.append(h[0],h[1])}}catch(e){_.e(e)}finally{_.f()}}else r.append(f,c)})),r}},365:function(e,t,n){"use strict";var r=n(6),o=n(34),c=n(35),d=n(276),l=n(69),f=n(11),m=n(55).f,_=n(56).f,h=n(13).f,j=n(367).trim,v="Number",y=r.Number,x=y,w=y.prototype,O=c(n(93)(w))==v,$="trim"in String.prototype,k=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,c=(t=$?t.trim():j(t,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var code,d=t.slice(2),i=0,f=d.length;i<f;i++)if((code=d.charCodeAt(i))<48||code>o)return NaN;return parseInt(d,r)}}return+t};if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof y&&(O?f((function(){w.valueOf.call(n)})):c(n)!=v)?d(new x(k(t)),n,y):k(t)};for(var D,F=n(9)?m(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;F.length>I;I++)o(x,D=F[I])&&!o(y,D)&&h(y,D,_(x,D));y.prototype=w,w.constructor=y,n(17)(r,v,y)}},366:function(e,t,n){var r,o,c;c=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<e.length;i++){var component=e[i];if("string"!=typeof component)throw new TypeError("Url must be a string. Received "+component);""!==component&&(i>0&&(component=component.replace(/^[\/]+/,"")),component=i<e.length-1?component.replace(/[\/]+$/,""):component.replace(/[\/]+$/,"/"),t.push(component))}var r=t.join("/"),o=(r=r.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return r=o.shift()+(o.length>0?"?":"")+o.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=c():void 0===(o="function"==typeof(r=c)?r.call(t,n,t,e):r)||(e.exports=o)},367:function(e,t,n){var r=n(5),o=n(41),c=n(11),d=n(368),l="["+d+"]",f=RegExp("^"+l+l+"*"),m=RegExp(l+l+"*$"),_=function(e,t,n){var o={},l=c((function(){return!!d[e]()||"​"!="​"[e]()})),f=o[e]=l?t(h):d[e];n&&(o[n]=f),r(r.P+r.F*l,"String",o)},h=_.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(m,"")),e};e.exports=_},368:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},369:function(e,t,n){"use strict";var r=n(5),o=n(96)(5),c="find",d=!0;c in[]&&Array(1).find((function(){d=!1})),r(r.P+r.F*d,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(95)(c)},370:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),o=n(91),c=n(92),d=(n(45),n(23),n(363)),l=n.n(d),f=n(0),m=n.n(f),_=n(362),h=n(364),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.json=t,this.json.answer_json_data=t.answer_json_data||[],this.json.attachments=t.attachments||[],this.json.due_datetime=m()(t.due_datetime).format()||null,this.json.description_translations=t.description_translations||{en:"",th:""}}var t,n,d,f;return Object(c.a)(e,[{key:"save",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=l.a.cloneDeep(this.json)).default_question_answer=r.answer_json_data[0].choice_text,r.answer_json_data=JSON.stringify(r.answer_json_data),r.asset_id=n,r.due_datetime=m()(r.due_datetime).unix(),o=Object(h.d)(r,"incident",["attachments"]),this.json.id){e.next=12;break}return e.next=9,Object(_.c)("post",Object(_.d)(_.a,"projects/".concat(t,"/incidents")),{headers:Object(_.b)(!0),data:o});case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,Object(_.c)("patch",Object(_.d)(_.a,"projects/".concat(t,"/incidents/").concat(this.json.id)),{headers:Object(_.b)(!0),data:o});case 14:c=e.sent;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})}],[{key:"index",value:(d=Object(r.a)(regeneratorRuntime.mark((function t(n,r,o){var c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.c)("get",Object(_.d)(_.a,"projects/".concat(n,"/incidents")),{params:{page:r,per_page:o},headers:Object(_.b)(!0)});case 2:return c=t.sent,d=l.a.map(c.data.incidents,(function(t,n){return new e(t)})),t.abrupt("return",{incidents:d,total_count:c.data.total_count});case 5:case"end":return t.stop()}}),t)}))),function(e,t,n){return d.apply(this,arguments)})},{key:"show",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",{});case 2:return t.next=4,Object(_.c)("get",Object(_.d)(_.a,"projects/".concat(n,"/incidents/").concat(r)),{headers:Object(_.b)(!0)});case 4:return o=t.sent,t.abrupt("return",new e(o.data.incident));case 6:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})},{key:"complete",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(h.d)(r.json,"incident"),e.next=3,Object(_.c)("patch",Object(_.d)(_.a,"projects/".concat(t,"/incidents/").concat(n,"/complete")),{headers:Object(_.b)(!0),data:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()},379:function(e,t,n){var content=n(408);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("89cdf004",content,!0,{sourceMap:!1})},407:function(e,t,n){"use strict";n(379)},408:function(e,t,n){var r=n(24)(!1);r.push([e.i,".container[data-v-2903a744],.gk-content[data-v-2903a744]{min-height:100vh}.gk-content[data-v-2903a744]{background:#130e07;color:#bd6e51}.custom-button button[data-v-2903a744]{width:100%;font-weight:600;font-size:18px;display:grid;border-radius:20px}",""]),e.exports=r},442:function(e,t,n){"use strict";n.r(t);n(26),n(15),n(19),n(31),n(32);var r=n(8),o=n(3),c=(n(23),n(45),n(369),n(16),n(363)),d=n.n(c),l=n(91),f=n(92),m=n(362),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=t}var t,n;return Object(f.a)(e,null,[{key:"index",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)("get",Object(m.d)(m.a,"projects/".concat(t,"/incident_types")),{headers:Object(m.b)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"show",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)("get",Object(m.d)(m.a,"projects/".concat(t,"/incident_types/").concat(n)),{headers:Object(m.b)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),h=n(370);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={data:function(){return{defaultDateTime:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}},incidentTypes:[],fields:[],incidentFormData:new h.a,isLoading:!0,currentLanguage:this.$store.state.language,deviceName:{},expiredDatetime:""}},mounted:function(){if(this.$nuxt.isOffline)this.$router.push({name:"lost_internet_connection",params:{currentLanguage:this.$store.state.language}});else{var e=localStorage.getItem("deviceName");this.deviceName=JSON.parse(e);var t=localStorage.getItem("expiredDatetime");this.expiredDatetime=JSON.parse(t),this.fetchIncidentTypes()}},methods:{hideKeyboard:function(){document.activeElement.blur()},fetchIncidentTypes:function(){var e=this;_.index(this.$route.params.projectId).then((function(t){e.incidentTypes=d.a.map(t.data.incident_types,(function(t){return{value:t.id,label:t.name_translations[e.$store.state.language]}})),e.deviceName&&d.a.map(e.incidentTypes,(function(t){"เครื่องใช้ในบ้าน"!==t.label&&"Home Appliances"!==t.label||(e.incidentFormData.json.incident_type_id=t.value,e.fetchIncidentType(e.incidentFormData.json.incident_type_id))})),setTimeout((function(){e.isLoading=!1}),500)}))},fetchIncidentType:function(e){var t=this;_.show(this.$route.params.projectId,e).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reformatIncidentFromData(n.data.incident_type.questions);case 2:t.fields=n.data.incident_type.questions;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},reformatIncidentFromData:function(e){this.incidentFormData.json.answer_json_data=d.a.map(e,(function(e){return{choice_id:null,choice_text:null,question_id:e.id}}))},onIncidentTypeChange:function(e){e&&this.fetchIncidentType(e)},updateFormData:function(e){this.incidentFormData.json=v(v({},this.incidentFormData.json),e)},handleSubmit:function(){var e=this,t=this.incidentFormData;return this.deviceName&&(t.json.description_translations.en="".concat(this.deviceName.en,"# ").concat(this.expiredDatetime,"*"),t.json.description_translations.th="".concat(this.deviceName.th,"# ").concat(this.expiredDatetime,"*")),d.a.forEach(t.json.answer_json_data,(function(n,r){var o=d.a.find(e.fields,["id",n.question_id]);if("text"===o.question_type)t.json.answer_json_data[r].choice_id="";else if("single"===o.question_type){var c=d.a.find(o.choices,["id",t.json.answer_json_data[r].choice_id]);t.json.answer_json_data[r].choice_text=c?c.choice_text_translations:""}else t.json.answer_json_data[r].choice_text=d.a.map(t.json.answer_json_data[r].choice_id,(function(e){var t=d.a.find(o.choices,["id",e]);return t?t.choice_text_translations:""}))})),new Promise((function(n){e.$Modal.confirm({title:e.$t("messages.are_you_sure"),content:e.$t("messages.confirm_save"),okText:e.$t("button.yes"),cancelText:e.$t("button.no"),onOk:function(){e.isLoading=!0,e.submitForm(t)}})}))},submitForm:function(e){var t=this;this.$nuxt.isOffline?this.$router.push({name:"lost_internet_connection"}):this.$refs.form.validate(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=5;break}return n.next=3,e.save(t.$route.params.projectId,t.$route.params.assetId);case 3:(o=n.sent).data&&o.data.success?(t.$Message.success(t.$t("breadcrumb.incident")+t.$t("messages.successfully_created")),localStorage.removeItem("deviceName"),localStorage.removeItem("expiredDatetime"),t.$router.push({name:"projects-projectId-assets-assetId-incidents-incidents",params:{projectId:t.$route.params.projectId,assetId:t.$route.params.assetId},query:{jwt:t.$store.state.token,locale:t.$store.state.language}})):o.data.error?t.$Message.error(o.data.error):t.$Message.error(t.$t("messages.fail"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),this.isLoading=!1}}},x=(n(407),n(27)),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("GLoading"):n("div",[n("div",{staticClass:"container pr-12 pl-12 pt-5"},[n("Card",{staticClass:"header-content",attrs:{bordered:!1,"dis-hover":"",padding:0}},[n("div",{staticClass:"text-left mt-8 ml-20"},[n("p",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v("\n          "+e._s(e.$t("form.incident.label.new_incident"))+"\n        ")])])]),e._v(" "),n("Card",{staticClass:"gk-content",attrs:{bordered:!1,"dis-hover":""}},[n("Form",{ref:"form",attrs:{model:e.incidentFormData.json,"label-position":"top"}},[n("Row",[n("FormItem",{attrs:{label:e.$t("form.incident.label.incident_type"),prop:"incident_type_id",rules:[{trigger:"blur,change",required:!0,message:function(){return e.$t("info.incident.label.incident_type")+e.$t("errors.cannot_be_blank")}}]}},[n("Select",{attrs:{placeholder:e.$t("form.incident.placeholder.incident_type")},on:{"on-change":e.onIncidentTypeChange},model:{value:e.incidentFormData.json.incident_type_id,callback:function(t){e.$set(e.incidentFormData.json,"incident_type_id",t)},expression:"incidentFormData.json.incident_type_id"}},e._l(e.incidentTypes,(function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),e._v(" "),e._l(e.fields,(function(t,r){return n("Row",{key:t.id},["text"===t.question_type?n("FormItem",{attrs:{label:t.question_text_translations[e.$store.state.language],prop:"answer_json_data["+r+"].choice_text",rules:[{trigger:"blur,change",required:t.is_required,message:function(){return t.question_text_translations[e.$store.state.language]+e.$t("errors.cannot_be_blank")}}]}},[n("Input",{attrs:{type:"textarea"},model:{value:e.incidentFormData.json.answer_json_data[r].choice_text,callback:function(t){e.$set(e.incidentFormData.json.answer_json_data[r],"choice_text",t)},expression:"\n                incidentFormData.json.answer_json_data[index].choice_text\n              "}})],1):"checkbox"===t.question_type?n("FormItem",{attrs:{label:t.question_text_translations[e.$store.state.language],prop:"answer_json_data["+r+"].choice_id",rules:[{trigger:"blur,change",required:t.is_required,message:function(){return t.question_text_translations[e.$store.state.language]+e.$t("errors.cannot_be_blank")}}]}},[n("CheckboxGroup",{model:{value:e.incidentFormData.json.answer_json_data[r].choice_id,callback:function(t){e.$set(e.incidentFormData.json.answer_json_data[r],"choice_id",t)},expression:"\n                incidentFormData.json.answer_json_data[index].choice_id\n              "}},e._l(t.choices,(function(t){return n("Checkbox",{key:t.id,attrs:{label:t.choice_text_translations[e.$store.state.language]}})})),1)],1):"radio"===t.question_type?n("FormItem",{attrs:{label:t.question_text_translations[e.$store.state.language],prop:"answer_json_data["+r+"].choice_id",rules:[{trigger:"blur,change",required:t.is_required,message:function(){return t.question_text_translations[e.$store.state.language]+e.$t("errors.cannot_be_blank")}}]}},[n("RadioGroup",{model:{value:e.incidentFormData.json.answer_json_data[r].choice_id,callback:function(t){e.$set(e.incidentFormData.json.answer_json_data[r],"choice_id",t)},expression:"\n                incidentFormData.json.answer_json_data[index].choice_id\n              "}},e._l(t.choices,(function(t){return n("Radio",{key:t.id,attrs:{value:t.id,label:t.choice_text_translations[e.$store.state.language]}})})),1)],1):"multiple"===t.question_type?n("FormItem",{attrs:{label:t.question_text_translations[e.$store.state.language],prop:"answer_json_data["+r+"].choice_id",rules:[{trigger:"blur,change",min:1,type:"array",required:t.is_required,message:function(){return t.question_text_translations[e.$store.state.language]+e.$t("errors.cannot_be_blank")}}]}},[n("Select",{attrs:{placeholder:e.$t("form.incident.placeholder.more_choices"),multiple:""},model:{value:e.incidentFormData.json.answer_json_data[r].choice_id,callback:function(t){e.$set(e.incidentFormData.json.answer_json_data[r],"choice_id",t)},expression:"\n                incidentFormData.json.answer_json_data[index].choice_id\n              "}},e._l(t.choices,(function(t){return n("Option",{key:t.id,attrs:{value:t.id,label:t.choice_text_translations[e.$store.state.language]}})})),1)],1):"single"===t.question_type?n("FormItem",{attrs:{label:t.question_text_translations[e.$store.state.language],prop:"answer_json_data["+r+"].choice_id",rules:[{trigger:"blur,change",required:t.is_required,message:function(){return t.question_text_translations[e.$store.state.language]+e.$t("errors.cannot_be_blank")}}]}},[n("Select",{attrs:{placeholder:"th"===e.currentLanguage?""+e.$t("messages.please_select")+t.question_text_translations[e.$store.state.language]:e.$t("messages.please_select")+" "+t.question_text_translations[e.$store.state.language]},model:{value:e.incidentFormData.json.answer_json_data[r].choice_id,callback:function(t){e.$set(e.incidentFormData.json.answer_json_data[r],"choice_id",t)},expression:"\n                incidentFormData.json.answer_json_data[index].choice_id\n              "}},e._l(t.choices,(function(t){return n("Option",{key:t.id,attrs:{value:t.id,label:t.choice_text_translations[e.$store.state.language]}})})),1)],1):e._e()],1)})),e._v(" "),n("Row",[n("Col",{staticClass:"label",attrs:{span:"24"}},[e._v("\n            "+e._s(e.$t("form.incident.label.attachments"))+"\n          ")]),e._v(" "),n("Col",{staticClass:"pt-10",attrs:{span:"24"}},[n("GUpload",{attrs:{"is-incident":"",multiple:"","field-key":"attachments",size:"small"},on:{updateParentValue:e.updateFormData},model:{value:e.incidentFormData.json.attachments,callback:function(t){e.$set(e.incidentFormData.json,"attachments",t)},expression:"incidentFormData.json.attachments"}})],1)],1),e._v(" "),n("Row",{staticStyle:{"margin-top":"20px"}},[n("FormItem",{attrs:{label:e.$t("form.incident.label.due_datetime"),prop:"due_datetime",rules:[{trigger:"blur,change",required:!0,type:"date",message:function(){return e.$t("form.incident.label.due_datetime")+" "+e.$t("errors.cannot_be_blank")}}]}},[n("DatePicker",{attrs:{clearable:"",format:"dd/MM/yyyy",options:e.defaultDateTime,type:"date",placeholder:e.$t("form.incident.placeholder.due_datetime")},nativeOn:{click:function(t){return e.hideKeyboard()}},model:{value:e.incidentFormData.json.due_datetime,callback:function(t){e.$set(e.incidentFormData.json,"due_datetime",t)},expression:"incidentFormData.json.due_datetime"}})],1)],1)],2),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"custom-button"},[n("Button",{attrs:{type:"primary",size:"large"},on:{click:e.handleSubmit}},[e._v("\n          "+e._s(e.$t("button.submit"))+"\n        ")])],1)],1)],1)])}),[],!1,null,"2903a744",null);t.default=component.exports}}]);